import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.BVOCwoKb.js";function p(){const[s,a]=i.useState({date:"",time:"",guests:2,name:"",email:"",phone:""}),[o,l]=i.useState("idle"),[n,m]=i.useState(""),d=["5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM","8:30 PM","9:00 PM","9:30 PM"];async function c(r){r.preventDefault(),l("loading");try{const t=await fetch("/api/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok){const u=await t.json();throw new Error(u.message||"Failed to make reservation")}l("success")}catch(t){l("error"),m(t instanceof Error?t.message:"An error occurred")}}return e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),e.jsx("input",{type:"date",id:"date",required:!0,min:new Date().toISOString().split("T")[0],value:s.date,onChange:r=>a({...s,date:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-700",children:"Time"}),e.jsxs("select",{id:"time",required:!0,value:s.time,onChange:r=>a({...s,time:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",children:[e.jsx("option",{value:"",children:"Select a time"}),d.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"guests",className:"block text-sm font-medium text-gray-700",children:"Number of Guests"}),e.jsx("select",{id:"guests",required:!0,value:s.guests,onChange:r=>a({...s,guests:parseInt(r.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",children:[1,2,3,4,5,6,7,8].map(r=>e.jsxs("option",{value:r,children:[r," ",r===1?"Guest":"Guests"]},r))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",required:!0,value:s.name,onChange:r=>a({...s,name:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",id:"email",required:!0,value:s.email,onChange:r=>a({...s,email:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone (optional)"}),e.jsx("input",{type:"tel",id:"phone",value:s.phone,onChange:r=>a({...s,phone:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"})]})]}),o==="error"&&e.jsx("div",{className:"text-red-600 text-sm",children:n}),o==="success"&&e.jsx("div",{className:"text-green-600 text-sm",children:"Reservation successfully made!"}),e.jsx("button",{type:"submit",disabled:o==="loading",className:"w-full btn btn-primary",children:o==="loading"?"Making Reservation...":"Make Reservation"})]})}export{p as default};
